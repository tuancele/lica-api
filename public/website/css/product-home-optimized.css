/**
 * 智能优化产品显示 - 适用于所有 product_home section
 * 功能：
 * 1. 智能检测屏幕尺寸并调整显示
 * 2. 精确计算item边界，消除多余空白
 * 3. 减少padding增加显示空间
 * 4. 添加淡边框和hover效果
 */

/* ============================================
   基础优化 - 适用于所有 product_home section
   ============================================ */
section.product_home .item-product {
    /* 减少padding增加显示空间 */
    padding: 2px !important;
    
    /* 添加淡边框 */
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    border-radius: 8px;
    
    /* 确保item边界精确 */
    box-sizing: border-box;
    margin: 0 !important;
    
    /* 过渡效果 */
    transition: all 0.3s ease;
    
    /* 背景 - 保持产品卡片为白色 */
    background-color: #fff;
    position: relative;
    overflow: hidden;
    
    /* 确保高度一致 */
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* 减少内部元素的padding */
section.product_home .item-product .card-content {
    padding-left: 6px !important;
    padding-right: 6px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 6px !important;
    flex: 1;
    display: flex;
    flex-direction: column;
}

section.product_home .item-product .product-name {
    padding: 0 1px !important;
    margin-bottom: 3px !important;
}

section.product_home .item-product .brand-btn {
    padding: 0 !important;
    margin-bottom: 2px !important;
}

section.product_home .item-product .price {
    padding: 0 !important;
    margin: 3px 0 !important;
}

section.product_home .item-product .rating {
    padding: 0 !important;
    margin-top: 3px !important;
}

/* ============================================
   Hover效果 - 保持当前效果并增强
   ============================================ */
section.product_home .item-product:hover {
    border-color: rgba(0, 0, 0, 0.2) !important;
    z-index: 9;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px;
    transform: translateY(-2px);
}

/* ============================================
   响应式断点 - 智能检测屏幕尺寸
   ============================================ */

/* 超大屏幕 (≥1920px) */
@media (min-width: 1920px) {
    section.product_home .list-watch:not(.owl-carousel),
    section.product_home .list-flash:not(.owl-carousel) {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)) !important;
        gap: 15px !important;
        width: 100% !important;
    }
    
    section.product_home .item-product {
        width: 100% !important;
        max-width: 200px;
        margin: 0 !important;
    }
}

/* 大屏幕 (1400px - 1919px) */
@media (min-width: 1400px) and (max-width: 1919px) {
    section.product_home .list-watch:not(.owl-carousel),
    section.product_home .list-flash:not(.owl-carousel) {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)) !important;
        gap: 15px !important;
        width: 100% !important;
    }
    
    section.product_home .item-product {
        width: 100% !important;
        max-width: 180px;
        margin: 0 !important;
    }
}

/* 中等屏幕 (1200px - 1399px) */
@media (min-width: 1200px) and (max-width: 1399px) {
    section.product_home .list-watch:not(.owl-carousel),
    section.product_home .list-flash:not(.owl-carousel) {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)) !important;
        gap: 12px !important;
        width: 100% !important;
    }
    
    section.product_home .item-product {
        width: 100% !important;
        max-width: 170px;
        margin: 0 !important;
    }
}

/* 标准屏幕 (1000px - 1199px) */
@media (min-width: 1000px) and (max-width: 1199px) {
    section.product_home .list-watch:not(.owl-carousel),
    section.product_home .list-flash:not(.owl-carousel) {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)) !important;
        gap: 12px !important;
        width: 100% !important;
    }
    
    section.product_home .item-product {
        width: 100% !important;
        max-width: 160px;
        margin: 0 !important;
    }
}

/* 平板 (768px - 999px) */
@media (min-width: 768px) and (max-width: 999px) {
    section.product_home .list-watch:not(.owl-carousel),
    section.product_home .list-flash:not(.owl-carousel) {
        display: grid !important;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)) !important;
        gap: 10px !important;
        width: 100% !important;
    }
    
    section.product_home .item-product {
        width: 100% !important;
        max-width: 150px;
        margin: 0 !important;
    }
}

/* 移动端 (<768px) - 使用轮播 */
@media (max-width: 767px) {
    section.product_home .item-product {
        padding: 2px !important;
        min-width: 140px !important;
        width: 140px !important;
        margin-right: 8px !important;
    }
    
    section.product_home .item-product .card-content {
        padding-left: 6px !important;
        padding-right: 6px !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        margin-top: 6px !important;
    }
}

/* ============================================
   特殊布局优化 - 6x6网格推荐产品
   ============================================ */
section.product_home .recommendations-grid-6x6 {
    display: grid !important;
    grid-template-columns: repeat(6, 1fr) !important;
    grid-template-rows: repeat(6, auto) !important;
    gap: 12px !important;
    width: 100% !important;
}

section.product_home .recommendations-grid-6x6 .item-product {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 2px !important;
}

/* ============================================
   图片优化 - 精确边界
   ============================================ */
section.product_home .item-product .card-cover {
    position: relative;
    overflow: hidden;
    border-radius: 6px;
    margin-bottom: 0;
    width: 100%;
    padding: 0 !important;
}

section.product_home .item-product .card-cover img {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.3s ease;
    object-fit: cover;
}

section.product_home .item-product:hover .card-cover img {
    transform: scale(1.05);
}

/* ============================================
   消除多余空白 - 精确边界控制
   ============================================ */
section.product_home .list-watch:not(.owl-carousel),
section.product_home .list-flash:not(.owl-carousel) {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    align-items: stretch;
}

/* 当使用grid布局时 */
section.product_home .list-watch[style*="grid"],
section.product_home .list-flash[style*="grid"],
section.product_home .recommendations-grid-6x6 {
    display: grid !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* ============================================
   覆盖Owl Carousel的默认样式
   ============================================ */
section.product_home .owl-carousel .owl-stage {
    display: flex;
    align-items: stretch;
}

section.product_home .owl-carousel .owl-item {
    display: flex;
    align-items: stretch;
}

section.product_home .owl-carousel .item-product {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* ============================================
   响应式图片容器
   ============================================ */
section.product_home .item-product .skeleton--img-md {
    width: 100%;
    aspect-ratio: 1 / 1;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f5f5f5;
}

/* ============================================
   状态标签优化
   ============================================ */
section.product_home .item-product .status-product {
    position: absolute;
    top: 6px;
    left: 6px;
    z-index: 2;
}

section.product_home .item-product .btn_login_wishlist,
section.product_home .item-product .group-wishlist {
    position: absolute;
    top: 6px;
    right: 6px;
    z-index: 2;
}

